<!DOCTYPE html>
<html>
    <head>
        <title>我們的環境貢獻</title>
        <meta content="text/html" http-equiv="Content-Type"; charset="utf8">
        <link href="/assets/css/reduce_2.css" rel="stylesheet" type="text/css" id="css_style"/>        
        <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    </head>

    <body>
        <div class="top">
            <div id="top_text">
                <p id="beforeAmount"> 我們在爵士音樂節一起減少了，</p>
                <img src="/assets/icon/reuse_icon.png" alt="recycle" title="recycle image" id='reuse_icon'/>
                <p id="amount"><%- allReduce %></p><p id="unit">公斤</p><p id="afterAmount">的碳排放量</p>
            </div>
        </div>

        <div class="middle">
            <div id='info'>
            <p id='title_used'>你已減少使用了</p>
            <hr/>
            <div id="water_text"><img src="/assets/icon/cup_icon.png" alt="recycle" title="recycle image" id='cup_icon'/><p id="water">一次性容器</p><p id="unit_bottom"><%- container + " 個" %></p></div>
            <hr/>
            <div id="carbon_text"><img src="/assets/icon/chopsticks_icon.png" alt="recycle" title="recycle image" id='chopsticks_icon'/><p id="carbon">一次性餐具</p><p id="unit_bottom"><%- tableware + " 個" %></p></div>
            <hr/>
            <div id="wood_text"><img src="/assets/icon/plasticbag_icon.png" alt="recycle" title="recycle image" id='plasticbag_icon'/><p id="wood">一次性塑膠袋</p><p id="unit_bottom"><%- bag + " 個" %></p></div>
            </div>
        </div>
        <hr />
        <div class="bottom"> 
            <p id="bottom_text">你累積達成了<br/><span id="bottom_secondline"><span id="total_amount"><%- reduce %></span> <span id="g">克 </span>的碳減量</p>
        </div>
        
    </body>

    <script>
        window.onload = function(){
            $('p#unit_bottom').each(function () {
                $(this).prop('Counter',0).animate({
                    Counter: $(this).text().slice(0, $(this).text().length - 2)
                }, {
                    duration: 800,
                    easing: 'easeOutQuint',
                    step: function (now) {
                        $(this).text(Math.ceil(now) + " 個");
                    }
                });
            });

            $('#amount').each(function () {
                $(this).prop('Counter',0).animate({
                    Counter: $(this).text()
                }, {
                    duration: 800,
                    easing: 'easeOutQuint',
                    step: function (now) {
                        $(this).text(now.toFixed(3));
                    }
                });
            });

            $('#total_amount').each(function () {
                $(this).prop('Counter',0).animate({
                    Counter: $(this).text()
                }, {
                    duration: 800,
                    easing: 'easeOutQuint',
                    step: function (now) {
                        $(this).text(Math.ceil(now));
                    }
                });
            });
        };
    </script>
</html>